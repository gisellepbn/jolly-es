{% extends 'base.html' %}

{% block title %}
<title>Edit Quiz</title>
{% endblock %}



{% block content %}


<div class="grid">

    {% include 'navbar.html' %}

    <div id="edit-quiz-layout" class="wrapper">

        <div class="edit-quiz">

            <form action="" class="form" method="post">

                {% csrf_token %}
                <h3>Quiz Pin: {{quiz.pin}}</h3>
                <label for="name">Name</label>
                {{quiz_form.name}}
                <label for="input">Topic</label>
                {{quiz_form.topic}}
                <div>
                    <input type="submit" class="btn" value='Update' name="edit-quiz">
                    <button id="delete-quiz" class="btn">Delete</button>
                </div>

            </form>

            <div class="heading-box">
                <p class="heading">Questions</p>
                <a id='reset-question-form' title="New question"><i class="fa-solid fa-plus"></i></a>
            </div>

            <div class="questions">
                {% for question in questions  %}
                <div class="question" data-question="{{question.id}}">
                    <p class="question-text">{{question}}</p>
                </div>
                {% empty %}
                <p>No questions yet</p>
                {% endfor %}
            </div>

        </div>
        <div class="box">
            <form action="" class="question-form form" method="post">
                {% include 'alerts.html' %}
                {% csrf_token %}
                <label for="question">Question</label>
                {{question_form.question}}
                <label for="choice_a">Answer choice A</label>
                {{question_form.choice_A}}
                <label for="choice_b">Answer choice B</label>
                {{question_form.choice_B}}
                <label for="choice_c">Answer choice C</label>
                {{question_form.choice_C}}
                <label for="choice_d">Answer choice D</label>
                {{question_form.choice_D}}
                <label for="answer_key">Correct Answer</label>
                {{question_form.answer_key}}
                <label for="points">Points</label>
                {{question_form.points}}
                <label for="seconds">Time limit in seconds</label>
                {{question_form.seconds}}

                <div class="cta-btns">
                    <input id="add-question" type="submit" class="btn" value='Add Question' name="add-question">
                    <button id="edit-question" class="btn hidden" data-question>Update</button>
                    <button id="delete-question" class="btn hidden" data-question>Delete</button>
                </div>


            </form>

        </div>

        <dialog class="modal" data-quiz={{quiz.id}}>
            <div class="modal-header">
                <p>Are you sure you want to delete this quiz?</p>
            </div>
            <div class="modal-cta">
                <button id="cancel" class="modal-button">Cancel</button>
                <button id="confirm" class="modal-button">Confirm</button>
            </div>
        </dialog>
    </div>



    {% include 'footer.html' %}
</div>


{% endblock content %}